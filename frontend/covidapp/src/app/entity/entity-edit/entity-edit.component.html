<div *ngIf="dataLoaded | async" class="container">
   <div>
     <h2>{{ entity.name }}</h2>
     <p>{{ entity.description }} </p>
   </div>
      <form  (ngSubmit)="onEditButton()">
        <button type="submit" class="btn btn-lg btn-info">Edit</button>
      </form>
   <div *ngIf="editMode">
      <div *ngIf="showLoginMessage">
        <p>You should be logged in to edit</p>
      </div>
   <div *ngIf="allowEdit" class="col-lg-8 ">
      <h3 *ngIf="success" class="text-success">Successfully Updated</h3>
      <h3 *ngIf="!success" class="text-danger" [innerHTML]="errorMessage"> </h3>
      <div class="row well center">
        <div class="jumbotron">

          <h3>Please update your location if changed</h3>

          <div class="form-group">
            <label>Enter address</label>
            <input type="text" class="form-control" (keydown.enter)="$event.preventDefault()" placeholder="Search Nearest Location" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" #search>
          </div>

          <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">
            <agm-marker [latitude]="latitude" [longitude]="longitude" [markerDraggable]="true"
                        (dragEnd)="markerDragEnd($event)"></agm-marker>
          </agm-map>

          <h5>Address: {{address}}</h5>
          <!-- <h5>Current Location - Latitude: {{latitude}} Longitude: {{longitude}}</h5> -->
        </div>
        <h3>Please update the form</h3>
        <formio [src]="form_url" [submission]="json_pre" (submit)="onSubmit($event)"></formio>
          <pre>{{ data | json }}</pre>
      </div>
   </div>
   </div>
</div>
