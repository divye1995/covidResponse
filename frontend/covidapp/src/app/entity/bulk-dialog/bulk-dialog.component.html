<h5 mat-dialog-title>Update {{ entities.length }} selection(s)</h5>
<!--
<ul *ngFor="let entity of entities">{{entity.id}}</ul>
-->

<div *ngIf="formioBased">
<mat-dialog-content [formGroup]="form">
  <formio [src]="form_url" (submit)="onSubmit($event)"></formio>
  <pre>{{ this.json_data | json }}</pre>
</mat-dialog-content>
</div>

<div *ngIf="!formioBased">
 <mat-card *ngIf="dataLoaded">
    <mat-card-title>{{ title }}</mat-card-title>
    <mat-card-content>
      <div *ngIf="loadVolunteerForm || loadGroupForm">
        <form [formGroup]="assignForm" (ngSubmit)="submitAssign()">

          <div *ngIf="loadVolunteerForm" align="center" class="col-sm-3">
            <mat-form-field>
              <mat-label>Assign to Volunteer</mat-label>
              <mat-select formControlName="assigntovolunteer">
                <mat-option value="">None</mat-option>
                <mat-option *ngFor="let user of (page | async)?.results" [value]="user.id">{{ user.name }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div *ngIf="loadGroupForm" align="center" class="col-sm-3">
            <mat-form-field>
              <mat-label>Assign to Group</mat-label>
              <mat-select formControlName="assigntogroup">
                <mat-option value="">None</mat-option>
                <mat-option *ngFor="let group of groups.results" [value]="group.id">{{ group.name }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div style="padding: 4px;">
            <button mat-raised-button class="btn btn-block"
		    type="submit">
	      Assign
	    </button>
          </div>
        </form>
      </div>
      <div *ngIf="loadDuplicateDialog" class="well">
	You are suggestiong the selection(s) be marked as duplicate. Are you sure?
	<label style="margin: 5px;"></label>
        <button mat-raised-button class="btn" (click)="onSubmit(true)">
	  Yes
	</button>
	<label style="margin: 5px;"></label>
        <button mat-raised-button class="btn" (click)="onSubmit(false)">
	  No
	</button>
	<br />
	<p><b><i class="fa fa-warning fa-lg" style="color:red; padding: 0 5px;"></i>NOTE: This will be submitted to the Approval Team.</b></p>
      </div>
    </mat-card-content>
  </mat-card>

</div>

<mat-dialog-actions>
  <button mat-raised-button (click)="cancel()">Cancel</button>
</mat-dialog-actions>

<pre style="border: 0; background-color: transparent;">                                                                                </pre>
